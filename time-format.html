<link rel="import" href="../polymer/polymer.html">
<script src="../moment/min/moment-with-locales.min.js"></script>

<dom-module id="time-format">
    <template>
        <span id="timeLabel"></span>
    </template>
</dom-module>
<script>
    Polymer({
        is : 'time-format',
        properties : {
            datetime : {
                type : String,
                value : '0000-00-00 00:00:00',
                observer : 'setup'
            },
            format : {
                type : String,
                value : 'YYYY-MM-DD HH:mm:ss',
                observer : 'setup'
            },
            locale: {
                type: String,
                value: 'en',
                observer: 'localeChanged'
            }
        },
        setup: function () {
            var datetime = this.datetime,
                element = this.$.timeLabel;

            element.innerHTML = moment(datetime).format(this.format);
        },
        ready: function() {
            this.setup();
        },
        localeChanged: function() {
          moment.locale(this.locale);
        }
    });
</script>
